TODO: start converting existing code to TypeScript, more refactoring, documentation.
